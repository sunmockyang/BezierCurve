function LibraryMouse(e){function y(e,t,n){console.log(e,t);if(e)g.element.addEventListener(t,n);else g.element.removeEventListener(t,n)}this.x=this.y=0;this.mouseover=false;this.clicked=this.LClicked=this.MClicked=this.RClicked=false;this.wheelDir=0;this.isStaticElement=false;this.elementX=this.elementY=0;var t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m;var g=this;this.click=function(e){g.update(e);var i=t?t(e):false;g.clicked=false;if(n!=null&&e.button===0){g.LClicked=false;return n(e)}else if(r!=null&&e.button===2){g.RClicked=false;return r(e)}return i};this.mousedown=function(e){g.update(e);var t=i?i(e):false;g.clicked=true;if(o!=null&&e.button===0){g.LClicked=true;return o(e)}else if(s!=null&&e.button===1){g.MClicked=true;return s(e)}else if(u!=null&&e.button===2){g.RClicked=true;return u(e)}return t};this.mouseup=function(e){g.update(e);var t=a?a(e):false;g.clicked=false;if(l!=null&&e.button===0){g.LClicked=false;return l(e)}else if(f!=null&&e.button===1){g.MClicked=false;return f(e)}else if(c!=null&&e.button===2){g.RClicked=false;return c(e)}return t};this.doubleclick=function(e){g.update(e);g.clicked=false;g.LClicked=false;return h(e)};this.mousewheel=function(e){g.update(e);g.wheelDir=(e.wheelDelta||e.detail)>0?1:-1;return p(e)};this.mouseover=function(e){g.update(e);g.mouseover=true;return d(e)};this.mouseout=function(e){g.update(e);g.mouseover=false;return v(e)};this.mousemove=function(e){g.update(e);return m(e)};this.removeEventListener=function(e){this.addEventListener(e,null)};this.addEventListener=function(e,g){var b=null;var w=g!==null;switch(e){case"click":t=g;break;case"leftclick":n=g;b="click";break;case"rightclick":r=g;y(w,"contextmenu",this.click);return;break;case"mousedown":i=g;break;case"leftmousedown":o=g;b="mousedown";break;case"middlemousedown":s=g;b="mousedown";break;case"rightmousedown":u=g;b="mousedown";break;case"mouseup":a=g;break;case"leftmouseup":l=g;b="mouseup";break;case"middlemouseup":f=g;b="mouseup";break;case"rightmouseup":c=g;b="mouseup";break;case"doubleclick":h=g;y(w,"dblclick",this.doubleclick);return;break;case"mousewheel":p=g;y(w,"DOMMouseScroll",this.mousewheel);break;case"mouseover":d=g;break;case"mouseout":v=g;break;case"mousemove":m=g;break}var E=b===null?e:b;y(w,E,this[E])};this.init(e)}LibraryMouse.prototype.element=null;LibraryMouse.prototype.init=function(e){this.setElement(e)};LibraryMouse.prototype.addEventContainer=function(e){var t=["click","leftclick","rightclick","mousedown","leftmousedown","middlemousedown","rightmousedown","mouseup","leftmouseup","middlemouseup","rightmouseup","doubleclick","mousewheel","mouseover","mouseout","mousemove"];for(var n=0;n<t;n++){if(e[t[n]])this.addEventListener(t[n],e[t[n]])}};LibraryMouse.prototype.setElement=function(e,t){this.element=e;this.isStaticElement=t===undefined?false:t;if(this.isStaticElement)this.getOffset()};LibraryMouse.prototype.getOffset=function(){var e=0;var t=0;var n=this.element;if(n.offsetParent){do{e+=n.offsetLeft;t+=n.offsetTop}while(n=n.offsetParent)}this.elementX=e;this.elementY=t;return{y:t,x:e}};LibraryMouse.prototype.update=function(e){if(!this.staticElement){this.getOffset(this.element)}this.x=e.clientX-this.elementX;this.y=e.clientY-this.elementY;if(this.x>this.element.offsetWidth)this.x=this.element.offsetWidth;else if(this.x<=0)this.x=0;if(this.y>this.element.offsetHeight)this.y=this.element.offsetHeight;else if(this.y<=0)this.y=0}/*Sunmock Yang, August 2013: https://github.com/sunmockyang*/